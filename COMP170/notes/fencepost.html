

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Fencepost techniques &mdash; Leo Irakliotis&#39; courses  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Riddler’s next caper" href="batman.html" />
    <link rel="prev" title="The Calendar Problem" href="calendar.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Leo Irakliotis' courses
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Courses</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../COMP141/introduction.html">COMP 141 Introduction to Computing Tools and Techniques</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COMP163/introduction.html">COMP 163 Discrete Structures</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../introduction.html">COMP 170 Introduction to Java Programming</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../shared/COVID19.html">Course operations and COVID19</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shared/COVID19.html#recordings">Recordings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html">Course organization and logistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#course-outline">Course outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#ground-rules">Ground rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#deadlines">Deadlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#student-hours-aka-office-hours">Student hours (aka office hours)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#academic-integrity">Academic integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#professionalism">Professionalism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#zoom">Zoom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#formal-notices">Formal notices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../organization.html#inclusion-statement">Inclusion statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reading.html">Reading material</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../notes.html">Leo's notes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="searsTower.html">Drawing Sears Tower</a></li>
<li class="toctree-l3"><a class="reference internal" href="integerDivision.html">Integer division and modular arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="nestedLoops.html">Nested Loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="calendar.html">The Calendar Problem</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Fencepost techniques</a></li>
<li class="toctree-l3"><a class="reference internal" href="batman.html">Riddler’s next caper</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../COMP180/introduction.html">COMP 180 Data Analysis for the Sciences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COMP271/introduction.html">COMP 271 Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COMP363/introduction.html">COMP 363 Design and Analysis of Computer Algorithms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../DEI/DEI.html">DEI initiative</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DBD/introduction.html">Databases Design</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../LeoIrakliotis.html">Shameless self-promotion</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Leo Irakliotis' courses</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../introduction.html">COMP 170 Introduction to Java Programming</a> &raquo;</li>
        
          <li><a href="../notes.html">Leo’s notes</a> &raquo;</li>
        
      <li>Fencepost techniques</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/COMP170/notes/fencepost.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fencepost-techniques">
<h1>Fencepost techniques<a class="headerlink" href="#fencepost-techniques" title="Permalink to this headline">¶</a></h1>
<p><strong>Key points</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Fencepost affects mostly visual outputs (e.g., printouts).</p></li>
<li><p>Overcoming fencepost artifacts requires code duplication.</p></li>
</ul>
</div></blockquote>
<p>Fencepost is an loop artifact that becomes apparent usually when we require consistent or uniform presentation of data. For example, the code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
<span class="k">for</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="o">;</span> <span class="n">i</span><span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>will produce the output</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">9</span><span class="o">,</span>
</pre></div>
</div>
<p>That last comma needs to go! The solution usually is to print the last (or the first) item separately. For example,</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
<span class="k">for</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
</pre></div>
</div>
<p>will produce the desired output, without a comma dangling after the last number.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">9</span>
</pre></div>
</div>
<p>We obtain the desired output at the cost of duplicating the <code class="docutils literal notranslate"><span class="pre">print</span></code> statement, to display the last value of the loop (<code class="docutils literal notranslate"><span class="pre">N-1</span></code>) outside the loop. This way, we allow the <code class="docutils literal notranslate"><span class="pre">print</span></code> statement inside the loop to print the commas separating the numbers. And the last statement to print a number without a comma following it.</p>
<p>Sometimes, the duplication of code can be problematic. Consider, for example, a method that parses the digits of an integer number and prints them in the form of a sum, e.g.,</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="mi">23458</span> <span class="o">---&gt;</span> <span class="mi">8</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span>
</pre></div>
</div>
<p>We start with the following code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">showDigits</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
<span class="lineno"> 2 </span>  <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno"> 3 </span>  <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno"> 4 </span>  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="n">r</span> <span class="o">);</span>
<span class="lineno"> 5 </span>  <span class="k">while</span> <span class="o">(</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">)</span> <span class="o">{</span>
<span class="lineno"> 6 </span>    <span class="n">r</span> <span class="o">=</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno"> 7 </span>    <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno"> 8 </span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="s">&quot; + &quot;</span> <span class="o">+</span> <span class="n">r</span> <span class="o">);</span>
<span class="lineno"> 9 </span>  <span class="o">}</span>
<span class="lineno">10 </span><span class="o">}</span>
</pre></div>
</div>
<p>Notice, how lines 2 and 3 outside the loop above repeat as lines 6 and 7, within the loop. When we begin to see such duplication, it may be a good away to “factor” it away: move the repeating code into a method, and use that method in its place. In this example, if we move the repeating code in its own method, we’ll run to a fundamental Java problem. Let’s try it anyway.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">showDigits</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
<span class="lineno"> 2 </span>  <span class="n">doTheMath</span><span class="o">();</span>
<span class="lineno"> 3 </span>  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="n">r</span> <span class="o">);</span>
<span class="lineno"> 4 </span>  <span class="k">while</span> <span class="o">(</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">)</span> <span class="o">{</span>
<span class="lineno"> 5 </span>    <span class="n">doTheMath</span><span class="o">();</span>
<span class="lineno"> 6 </span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="s">&quot; + &quot;</span> <span class="o">+</span> <span class="n">r</span> <span class="o">);</span>
<span class="lineno"> 7 </span>  <span class="o">}</span>
<span class="lineno"> 8 </span><span class="o">}</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="kd">public</span> <span class="kd">static</span> <span class="o">???</span> <span class="n">doTheMath</span><span class="o">(???)</span> <span class="o">{</span>
<span class="lineno">11 </span>  <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno">12 </span>  <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno">13 </span>  <span class="k">return</span> <span class="o">???</span>
<span class="lineno">14 </span><span class="o">}</span>
</pre></div>
</div>
<p>We can move the repeating operations in the new method <code class="docutils literal notranslate"><span class="pre">doTheMath()</span></code>, but how shall the method pass the results back? Java methods can return one and only one value. We cannot simply write</p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">r,</span> <span class="pre">n;</span></code></p>
<p>Java methods cannot return multiple values. In time, we learn to live with this limitation. And even come up with tricks to overcome it (e.g., we can return multiple values masquerading as an array which Java considers as a single value). For now, our only option is to make variables <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">n</span></code> accessible from every method in the class:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FencePost</span> <span class="o">{</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="n">r</span><span class="o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">showDigits</span><span class="o">()</span> <span class="o">{</span>
<span class="lineno"> 6 </span>    <span class="n">doTheMath</span><span class="o">();</span>
<span class="lineno"> 7 </span>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="n">r</span> <span class="o">);</span>
<span class="lineno"> 8 </span>    <span class="k">while</span> <span class="o">(</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">)</span> <span class="o">{</span>
<span class="lineno"> 9 </span>      <span class="n">doTheMath</span><span class="o">();</span>
<span class="lineno">10 </span>      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="s">&quot; + &quot;</span> <span class="o">+</span> <span class="n">r</span> <span class="o">);</span>
<span class="lineno">11 </span>    <span class="o">}</span>
<span class="lineno">12 </span>  <span class="o">}</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">doTheMath</span><span class="o">()</span> <span class="o">{</span>
<span class="lineno">15 </span>    <span class="n">r</span> <span class="o">=</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno">16 </span>    <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
<span class="lineno">17 </span>  <span class="o">}</span>
<span class="lineno">18 </span><span class="o">}</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="batman.html" class="btn btn-neutral float-right" title="Riddler’s next caper" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="calendar.html" class="btn btn-neutral float-left" title="The Calendar Problem" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2021, Leo Irakliotis.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>